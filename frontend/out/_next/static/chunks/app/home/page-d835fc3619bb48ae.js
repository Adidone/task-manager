(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{384:(e,t,a)=>{Promise.resolve().then(a.bind(a,1306))},1306:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(5155),s=a(2115);let i=a(3464).A.create({baseURL:"http://localhost:5000"});var n=a(2596),l=a(9688);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,n.$)(t))}function d(e){let{className:t,type:a,...s}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:o("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var c=a(4624);let u=(0,a(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function p(e){let{className:t,variant:a,size:s,asChild:i=!1,...n}=e,l=i?c.DX:"button";return(0,r.jsx)(l,{"data-slot":"button",className:o(u({variant:a,size:s,className:t})),...n})}function g(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:o("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}var h=a(9012),b=a(6203),m=a(5695);function v(){var e;let[t,a]=(0,s.useState)(""),[n,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[u,v]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[y,k]=(0,s.useState)(null),[w,j]=(0,s.useState)(""),N=(0,m.useRouter)();(0,s.useEffect)(()=>{let e=(0,b.hg)(h.j,e=>{e?(v(e.uid),z(e.uid)):N.push("/login")});return()=>e()},[]);let C=async()=>{if(t&&u){c(!0);try{let e=await i.post("/generate",{topic:t});l(e.data.tasks.map(e=>({title:e}))),f(!1)}catch(e){console.error(e),alert("Failed to generate tasks")}finally{c(!1)}}},S=async()=>{try{await Promise.all(n.map(e=>i.post("/tasks",{title:e.title,userId:u}))),f(!0),alert("Tasks saved successfully!"),z(u)}catch(e){console.error(e),alert("Error saving tasks.")}},z=async e=>{try{let t=await i.get("/tasks/".concat(e));l(t.data)}catch(e){console.error("Fetch error",e)}},E=async(e,t)=>{try{await i.put("/tasks/".concat(e),{completed:!t}),l(a=>a.map(a=>a.id===e?{...a,completed:!t}:a))}catch(e){console.error("Update error",e),alert("Failed to update task")}},F=async e=>{try{await i.delete("/tasks/".concat(e)),l(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Delete error",e),alert("Failed to delete task")}},_=async e=>{try{await i.put("/tasks/".concat(e),{title:w}),l(t=>t.map(t=>t.id===e?{...t,title:w}:t)),k(null),j("")}catch(e){console.error("Edit error",e),alert("Failed to update task title")}},A=async()=>{try{await (0,b.CI)(h.j),N.push("/login")}catch(e){alert("Failed to logout")}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-8 py-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83C\uDFAF Task Generator"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4 items-center",children:[(0,r.jsx)("input",{style:{height:40},type:"text",placeholder:"Enter a topic (e.g. Learn Python)",value:t,onChange:e=>a(e.target.value),className:"h-12 w-full max-w-md px-3 py-2 border border-gray-300 rounded-md bg-white text-black"}),(0,r.jsx)("button",{style:{height:30},onClick:C,disabled:o,className:"h-12 px-6 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o?"Generating...":"Generate"})]}),n.length>0&&!x&&(null==(e=n[0])?void 0:e.id)===void 0&&(0,r.jsx)(p,{onClick:S,className:"mb-6 mt-6",variant:"secondary",children:"Add All Tasks to Database"}),(0,r.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>(0,r.jsxs)(g,{className:"p-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-3 border rounded-xl shadow-sm ".concat(e.completed?"bg-green-50":"bg-white"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 w-full",children:["id"in e&&(0,r.jsx)("input",{type:"checkbox",className:"w-5 h-5 accent-blue-500",checked:e.completed,onChange:()=>E(e.id,e.completed)}),y===e.id?(0,r.jsx)(d,{value:w,onChange:e=>j(e.target.value),className:"flex-1"}):(0,r.jsx)("span",{className:"flex-1 text-base ".concat(e.completed?"line-through text-gray-500":"text-black"),children:e.title})]}),"id"in e&&(0,r.jsxs)("div",{className:"flex gap-2 ml-auto",children:[y===e.id?(0,r.jsx)(p,{size:"sm",onClick:()=>_(e.id),children:"Save"}):(0,r.jsx)(p,{size:"sm",variant:"outline",onClick:()=>{k(e.id),j(e.title)},children:"Edit"}),(0,r.jsx)(p,{size:"sm",variant:"outline",className:"text-red-500 border-red-500 hover:bg-red-100",onClick:()=>F(e.id),children:"Delete"})]})]},e.id||t))}),(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsx)("button",{style:{height:30,width:80},onClick:A,variant:"destructive",children:"Logout"})})]})}},9012:(e,t,a)=>{"use strict";a.d(t,{j:()=>n});var r=a(3915),s=a(6203);let i=(0,r.Wp)({apiKey:"AIzaSyAdqkILEvYSLwe0LtqJn0y1RRzPGEvQgPg",authDomain:"gemini-project-f477e.firebaseapp.com",projectId:"gemini-project-f477e",storageBucket:"gemini-project-f477e.appspot.app",messagingSenderId:"395552508074",appId:"1:395552508074:web:97ceb877630e9fd855e8d3"}),n=(0,s.xI)(i)}},e=>{var t=t=>e(e.s=t);e.O(0,[163,851,829,441,684,358],()=>t(384)),_N_E=e.O()}]);